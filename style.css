:root {
  --bg: #fdf6f0;
  --card: #fffaf7;
  --border: #e4c8b3;
  --text: #33231c;
  --muted: #9a7b6b;
  --accent: #e05b2d;
  --toast-bg: #ffe8d0;
  --toast-border: #f2c9a1;
}

* { box-sizing: border-box; }
html,body {
  margin:0; padding:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Hiragino Sans","Noto Sans JP",sans-serif;
  color:var(--text);
  background:var(--bg);
}

/* 全体レイアウト */
.wrap {
  max-width:720px;
  margin:0 auto;
  padding:72px 16px 16px;
}

/* 固定ヘッダ */
.app-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  background: rgba(253,246,240,0.9);
  backdrop-filter: blur(6px);
  padding: 8px 12px 10px;
  border-bottom: 1px solid var(--border);
  box-shadow: 0 2px 6px rgba(224,91,45,0.1);
}
h1 {
  font-size:1.4rem;
  margin:0;
  font-weight:700;
  letter-spacing:0.03em;
  color:var(--accent);
}
.clear-top {
  font-size:.9rem;
  padding:6px 10px;
  border:1px solid var(--accent);
  border-radius:8px;
  color:var(--accent);
  background:transparent;
  transition:background .2s;
}
.clear-top:hover { background:rgba(224,91,45,0.12); }

/* 日付＋タイトル固定エリア */
/* ==================================
   日付＋タイトルの固定エリア（レスポンシブ対応）
================================== */
.title-area {
  position: sticky;
  top: 60px;
  z-index: 900;
  background: rgba(255,250,247,0.92);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--border);
  padding: 8px 8px 4px;
  margin: 0;
}

/* スマホでは縦並び、PCでは横並び */
@media (min-width: 600px) {
  .title-area {
    display: flex;
    gap: 12px;
    align-items: flex-end;
  }
  .title-area .block {
    flex: 1;
    margin: 0;
  }
}

.title-area input {
  width: 100%;
  box-sizing: border-box;
  background: var(--card);
  border: 1px solid var(--border);
}

/* 入力フォーム */
.block { display:block; margin:12px 0; }
.label { display:block; font-size:.9rem; color:var(--muted); margin-bottom:4px; }

input[type="text"],input[type="date"],textarea,select{
  width:100%; padding:10px 12px;
  border:1px solid var(--border);
  border-radius:10px;
  background:var(--card);
  font-size:1rem; color:var(--text);
  transition:border-color .2s ease, box-shadow .2s ease;
}
input:focus,textarea:focus,select:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 2px rgba(224,91,45,0.15);
}
textarea{ resize:vertical; min-height:80px; }

/* 折りたたみカード */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  margin:10px 0;
  overflow:hidden;
  box-shadow:0 1px 2px rgba(224,91,45,0.08);
}
.card>summary{
  list-style:none; cursor:pointer;
  padding:12px 14px; font-weight:600;
  position:relative; color:var(--accent);
}
.card>summary::after{content:"▾";position:absolute;right:14px;top:12px;color:var(--muted);}
.card[open]>summary::after{content:"▴";}
.inner{padding:0 14px 12px;}

/* 保存ボタン */
.primary{
  display:block;width:100%;margin-top:14px;padding:12px;
  font-size:1rem;border:none;border-radius:12px;color:#fff;
  background:linear-gradient(135deg,#e86a37,#e05b2d);
  box-shadow:0 2px 6px rgba(224,91,45,0.3);
  transition:transform .1s ease,box-shadow .2s ease;
}
.primary:hover{transform:translateY(-1px);box-shadow:0 4px 10px rgba(224,91,45,0.35);}
.primary:disabled{background:#d0b9ad;box-shadow:none;}

/* クレジット */
.credit{
  font-size:.8rem;color:var(--muted);
  text-align:right;margin-top:8px;line-height:1.4;
}
.credit a{color:var(--accent);text-decoration:none;}
.credit a:hover{text-decoration:underline;}

/* ノート一覧 */
.records{
  margin-top:20px;border:1px solid var(--border);
  border-radius:10px;background:var(--card);padding:8px 12px;
}
.records summary{
  font-weight:600;cursor:pointer;list-style:none;color:var(--accent);
}
#noteList{list-style:none;padding-left:0;margin:8px 0;}
#noteList li{border-top:1px solid var(--border);padding:8px 0;position:relative;}
#noteList li:first-child{border-top:none;}

.delete-btn,.download-btn{
  position:absolute;top:8px;background:none;border:none;cursor:pointer;font-size:1.1rem;
}
.delete-btn{right:0;color:#b3261e;}
.download-btn{right:32px;color:var(--accent);}
.download-btn:hover{text-decoration:underline;}

/* 検索バー */
.search-bar{
  width:100%;margin:8px 0 10px;padding:8px 10px;
  border:1px solid var(--border);border-radius:8px;font-size:1rem;
  background:#fff9f6;color:var(--text);
}
.search-bar::placeholder{color:var(--muted);}

/* トースト通知 */
#toast{
  position:fixed;left:50%;top:20px;
  transform:translateX(-50%);
  background:var(--toast-bg);color:#4b2e1f;
  padding:10px 16px;border-radius:10px;
  border:1px solid var(--toast-border);
  box-shadow:2px 3px 8px rgba(100,50,20,0.25);
  opacity:0;pointer-events:none;
  transition:opacity .25s ease,top .25s ease;
  font-size:.95rem;text-align:center;z-index:999;
}
#toast.show{opacity:1;top:40px;}
